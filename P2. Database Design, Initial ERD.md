# P2. Database Design, Initial ERD

## Entities

- `Address`: Represents an address with attributes such as `street`, `city`, `zip`, `latitude`, `longitude`, and has relationships with `CarBrand`, `Supplier`, `Manufacturer`, and `AssemblyUnit`.

- `CarBrand`: Represents a car brand with attributes like `name` and `address_id`. It is related to an `Address` and has multiple `AssemblyUnit` entities associated with it.

- `Supplier`: Represents a supplier with attributes like `name` and `address_id`. It is related to an `Address`.

- `Manufacturer`: Represents a manufacturer with attributes like `name` and `address_id`. It is related to an `Address` and has relationships with `Batch` and `Purchase`.

- `Transport`: Represents a mode of transport with attributes like `name` and `type_id`. It is related to a `TransportType` and has relationships with `Sales` and `Purchase`.

- `TransportType`: Describes the type of transport with a `description` and has a relationship with `Transport`.

- `Part`: Represents a part with attributes like `name` and `description` and has a relationship with `Batch`.

- `Batch`: Represents a batch of parts with attributes like `part_id`, `cost`, and `manufacturer_id`. It is related to `Part`, `Manufacturer`, and has relationships with `Stock`, `SalesRow`, and `PurchaseRow`.

- `Stock`: Represents the stock of a batch with attributes `batchId` and `quantity`, related to `Batch`.

- `User`: Represents a user with the attribute `name` and has relationships with `Sales` and `Purchase`.

- `AssemblyUnit`: Represents an assembly unit with attributes like `name`, `address_id`, and `brand_id`. It is related to `Address`, and `CarBrand`, and has relationships with `Sales`.

- `Sales`: Represents a sale with attributes `sale_to_id`, `sale_by_id`, and `transported_by_id`. It is related to `Transport`, `AssemblyUnit`, and `User` and has relationships with `SalesRow`.

- `SalesRow`: Represents a row in a sales transaction with attributes like `part_batch_id`, `quantity`, and `sale_id`. It is related to `Batch` and `Sales`.

- `Purchase`: Represents a purchase with attributes `purchase_from_id`, `purchase_by_id`, and `transported_by_id`. It is related to `Transport`, `Manufacturer`, and `User` and has relationships with `PurchaseRow`.

- `PurchaseRow`: Represents a row in a purchase transaction with attributes like `part_batch_id`, `quantity`, and `purchase_id`. It is related to `Batch` and `Purchase`.

## ER Diagram
![](diagrams/erd.png)

## Database Diagram
![](diagrams/database-diagram.png)
