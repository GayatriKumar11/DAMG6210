# P2. Database Design, Initial ERD

## Business Problems Addressed

- Automotive distributors currently rely on a manual inventory tracking process that is error-prone, leading to issues such as overstocking or stockouts. These inefficiencies directly impact our ability to fulfill customer orders promptly and efficiently manage inventory costs, hindering our overall operational effectiveness.
- Within our automotive distribution operations, the existing order management system is characterized by fragmentation, with different departments utilizing disparate tools and methodologies. This fragmented approach contributes to delays, errors, and inefficiencies in the processing and fulfillment of orders, which adversely affects our customer service and operational efficiency.
- In the automotive distribution sector, the absence of real-time reporting and analytics tools poses significant challenges for our management team in making informed decisions. To address this, we require a comprehensive reporting system that provides us with the capability to analyze inventory data in real-time, track performance, and ultimately make data-driven decisions to improve our operations.
- As our automotive distribution organization continues to expand and forge new partnerships, our existing systems struggle to cope with the increasing volume and complexity of data. To meet the evolving demands of our business, we must implement a scalable solution capable of accommodating this growth without compromising efficiency.
- Given the sensitive nature of inventory data in the automotive distribution sector, unauthorized access to this information can have severe consequences, including data breaches, the loss of intellectual property, and various security risks. To mitigate these risks, we must establish robust access control mechanisms that safeguard our data and ensure compliance with industry-specific security standards.
- In the automotive distribution industry, data loss and system downtime can have a profound impact on our business operations. To address this, it is imperative that we implement a robust data backup and recovery strategy. Such a strategy will not only help us maintain data integrity but also minimize disruptions, ensuring the continued smooth operation of our business even in the face of unforeseen challenges.

## Business Rules

- A car brand may produce a car model only if they have an active supply agreement with the required parts
- Parts are sold in batches to car brands, with batch sizes determined by the supplier's packaging specifications and the brand's ordering preferences.
- Each car brand has one or more assembly units where the parts are sourced to and the final product is made. This unit may or may not located at the car brand office address.
- Parts for a car model are not available for purchase once the car brand has officially discontinued production for that model.
- Parts can be transported between suppliers, manufacturers, and assembly units using approved transportation methods and carriers, with specified delivery timeframes and tracking requirements.
- Car types, such as sedans, SUVs, and electric vehicles, are categorized based on their specifications and features, with each type subject to distinct manufacturing, distribution, and marketing strategies.
- Electric car models must comply with regulatory standards for battery safety, charging infrastructure compatibility, and emissions reduction initiatives in the regions where they are distributed for assembly.

## Entities

- `Car`: Represents a fully assembled car, the product of the automotive distribution process. A car will have an associated `CarType` and `CarBrand`.
- `CarType`: Represents the specific type/model of a car. Types helps categorize, manage and fulfill customer orders accurately.
- `CarBrand`: Represents a car brand or manufacturer.
  - `AssemblyUnit`: Represents the facility or unit responsible for assembling the components to create a complete car.
- `Supplier`: Represents the entity that provide parts, components, or materials necessary for car assembly. Each is associated with an `Address' to manage locations and logistics effectively.
- `Manufacturer`: Represents a manufacturer with attributes like `name` and `address_id`. It is related to an `Address` and has relationships with `Batch` (indicating the involvement in sourcing and producing parts) and `Purchase`.
- `Address`: Represents a physical address with attributes such as `street`, `city`, `zip`, `latitude`, `longitude` and is crucial for managing the logistics and transportation of parts and vehicles. Has relationships with `CarBrand`, `Supplier`, `Manufacturer`, and `AssemblyUnit`.
- `Transport`: Represents the mode of transport used for shipping parts, components, and vehicles and has attributes, `name` and `type_id`. It is related to a `TransportType` and has relationships with `Sales` and `Purchase`.
  - `TransportType`: Describes the type of transport with a `description`, providing additional details about the transportation methods. Has a relationship with `Transport`.
- `Part`: Represents individual components or parts used in car assembly. Parts are associated with Batches, indicating how they are sourced and managed within the inventory.
- `Batch`: Represents a specific batch of parts with attributes like `part_id`, `cost`, and `manufacturer_id`. It allows for precise tracking of part quantities and costs. It is related to `Part`, `Manufacturer`, and has relationships with `Stock`, `SalesRow`, and `PurchaseRow`.
- `Stock`: Represents the current inventory of a particular batch of parts and has attributes `batchId` and `quantity`, related to `Batch`. Tracking stock levels ensures that there are sufficient parts available for assembly
- `Sales`: Represents the sales transactions of cars with attributes `sale_to_id`, `sale_by_id`, and `transported_by_id`. It is related to `Transport`, `AssemblyUnit`, and `User` and has relationships with `SalesRow`.
  - `SalesRow`: Represents individual line items within a sales transaction, indicating which part batch is sold, the quantity sold, and the associated sale. Has attributes like `part_batch_id`, `quantity`, and `sale_id`. It is related to `Batch` and `Sales` and helps maintain a detailed sales history.
- `Purchase`: Represents the purchase transactions of parts and components from suppliers or manufacturers and has attributes `purchase_from_id`, `purchase_by_id`, and `transported_by_id`. It is related to `Transport`, `Manufacturer`, and `User` and has relationships with `PurchaseRow`.
  - `PurchaseRow`: Represents a row in a purchase transaction with attributes like `part_batch_id`, `quantity`, and `purchase_id`. It is related to `Batch` and `Purchase`. This entity helps maintain a detailed purchase history.
- `User`: individuals using the inventory management application. A user can make either a `Sale` or a `Purchase`, which helps track the responsible parties for various inventory-related activities.

## ER Diagram

![](diagrams/erd.png)

## Database Diagram

![](diagrams/database-diagram.png)
